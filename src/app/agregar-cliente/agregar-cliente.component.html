<div class="h-100" *ngIf="loading">
  <style>
    input:invalid {
      border: 2px dashed red;
    }
  </style>
  <div class="spinner col">

    <div class="double-bounce1"></div>

    <div class="double-bounce2"></div>

  </div>

</div>
<div class="card" style="height: 800px" *ngIf="!loading">
  <div class="card-body">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Inicio</a></li>
        <li class="breadcrumb-item active" aria-current="page">
          Agregar Cliente
        </li>
      </ol>
    </nav>
    <div class="card-title text-center">
      <h4 class="card-title">Agregar Cliente</h4>
      <h5 class="card-subtitle">Ingrese los datos</h5>
    </div>
    <form [formGroup]="form" class="needs-validation">
      <div class="container">
        <div class="row align-items-start">
          <br />
          <h3>Datos del cliente</h3>
          <div class="col">
            <label for="inputZip" class="form-label">Nombre *</label>
            <div class="form-group">
              <input
              class="form-control"
              required
              pattern="[A-Za-z]+"
              requiredminlength="3"
              maxlength="10"
              size="10"
              name="nom_1"
              type="text"
              placeholder="Primer nombre"
              formControlName="nom_1"
              >
            <div class="invalid-feedback">
              Please choose a username.
            </div>
          </div>
          </div>
          <div class="col">
            <label for="inputZip" class="form-label">Segundo Nombre</label>
            <input
              class="form-control"
              name="nom_2"
              type="text"
              pattern="[A-Za-z]+"
              placeholder="Segundo nombre"
              formControlName="nom_2"
            />
          </div>
          <div class="col">
            <label for="inputZip" class="form-label">Apellido Paterno *</label>
            <input
              class="form-control"
              name="apellido_pat"
              type="text"
              pattern="[A-Za-z]+"
              placeholder="Apellido Paterno"
              formControlName="apellido_pat"
              required
            />
          </div>
          <div class="col">
            <label for="inputZip" class="form-label">Apellido Materno *</label>
            <input
              class="form-control"
              name="apellido_mat"
              type="text"
              pattern="[A-Za-z]+"
              placeholder="Apellido Materno"
              formControlName="apellido_mat"
              required
            />
          </div>

          <div class="col-2">
            <label for="inputZip" class="form-label">Edad *</label>
            <input
              class="form-control"
              requiredminlength="2"
              maxlength="2"
              name="edad"
              pattern="[0-9]+"
              type="number"
              min="18"
              max="99"
              placeholder="Edad"
              formControlName="edad"
              required
            />
          </div>
        </div>
        <br />
        <br />
        <h3>Dirección</h3>
          <div class="row">
            <div class="col">
              <label for="inputZip" class="form-label" required>C.P. *</label>
              <input formControlName="cpIngreso" type="text" class="form-control" id="inputZip" />
            </div>
            <div class="col">
              <label for="inputZip" class="form-label">.</label>
              <br />
              <button (click)="buscarCp()" class="btn btn-primary" type="button">Buscar</button>
            </div>
            <div [style.display]="showCam ? 'none' : 'yes'" class="col-md-3">
              <label for="inputState" class="form-label">Estado</label>
              <select  id="inputState" class="form-select">
                <option *ngFor="let cp of cpResult" value="{{cp.id_estado}}">{{cp.nom_estado}}</option>
              </select>
              <br />
            </div>
            <div [style.display]="showCam ? 'none' : 'yes'" class="col-md-3">
              <label for="inputCity" class="form-label">Municipio</label>
              <select id="inputCity" class="form-select">
                <option *ngFor="let cp of cpResult">{{cp.nom_entidad}}</option>
              </select>
              <br />
            </div>

            <div [style.display]="showCam ? 'none' : 'yes'" class="col-md-3">
              <label for="inputCol" class="form-label">Nombre de Entidad</label>
              <select id="inputCol" class="form-select">
                <option *ngFor="let cp of cpResult">{{cp.nom_asentamientos}}</option>
              </select>
              <br />
            </div>

            <br />
            <div class="row align-items-end">
              <div class="col-2">
                <label for="inputZip" class="form-label">Tipo de Identificación *</label>
                <select formControlName="id_cat_ide" class="form-select">
                  <option *ngFor="let ide of id_cat_ide" value="{{ide.id_cat_ide}}">{{ide.nom_ide}}</option>
                </select>
              </div>
              <div class="col">
                <label for="inputZip" class="form-label">Núm. de Identificación *</label>
                <input
                  class="form-control"
                  name="num_ide"
                  type="text"
                  placeholder="N. de indentifiación"
                  pattern="[A-Za-z0-9]+"
                  formControlName="numero_ide"
                  required
                />
              </div>
              <div class="col">
                <label for="inputZip" class="form-label">Teléfono *</label>
                <input
                  class="form-control"
                  name="phone"
                  type="text"
                  placeholder="Teléfono"
                  pattern="[0-9]+"
                  requiredminlength="10"
                  maxlength="10"
                  formControlName="telefono"
                  minlength="10"
                  required
                />
              </div>
              <div class="col">
                <label for="inputZip" class="form-label">Correo Electrónico *</label>
                <input
                  class="form-control"
                  name="email"
                  type="text"
                  placeholder="Correo electrónico"
                  formControlName="correo"
                  required
                />
              </div>
            </div>
            <br />
            <div class="row mt-3 align-items-center">
              <div class="col">
                <label for="inputZip" class="form-label">Calle *</label>
                <input
                  class="form-control"
                  name="nom_direccion"
                  type="text"
                  placeholder="Calle"
                  pattern="[A-Za-z0-9]+"
                  formControlName="calle"
                  required
                />
              </div>
              <div class="col-2">
                <label for="inputZip" class="form-label">Núm. Exterior *</label>
                <input
                  class="form-control"
                  name="num_ext"
                  type="text"
                  placeholder="Núm.Ext."
                  pattern="[0-9]+"
                  formControlName="no_ext"
                  required
                />
              </div>
              <div class="col-2">
                <label for="inputZip" class="form-label">Núm. Interior</label>
                <input
                  class="form-control"
                  name="num_int"
                  type="text"
                  placeholder="Núm. Int."
                  formControlName="no_int"
                  pattern="[0-9]+"
                />
              </div>
              <div class="col">
                <label for="inputZip" class="form-label">Cruzamientos</label>
                <input
                  class="form-control"
                  name="cru"
                  type="text"
                  placeholder="Cruzamientos"
                  part="[A-Za-z0-9]+"
                  formControlName="cruzamientos"
                  required
                />
              </div>
            </div>
          </div>
          <br />
          <br />
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <div class="col-auto">
              <button
                class="btn btn-lg btn-primary"
                type="button"
                (click)="onSubmit()"
              >
                Siguiente
              </button>
            </div>
          </div>
          <br />
          <br />
        <!-- // End form -->
      </div>
    </form>
  </div>
</div>
